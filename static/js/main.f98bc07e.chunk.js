(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){e.exports={name:"Header_name__2BZ6W",links:"Header_links__3KAOU"}},17:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a(18),n=a.n(r),c=a(4),l=a(8);const o=Object(l.b)({name:"client",initialState:{nume:"",prenume:"",telefon:"",email:"",numarInmatriculare:"",serieSasiu:"",marca:"",model:"",anulFabricatiei:"",tipMotorizare:"",capacitateMotor:"",caiPutere:"",kWPutere:"",istoricService:"",addClient:!1,editClient:!1,addCar:!1,editCar:!1,errorMessage:!1,clientsData:[],carsData:[],clientCars:[],searchedClient:!1,idCarForEdit:"",searchInput:"",edit:!1},reducers:{nume(e,t){e.nume=t.payload},prenume(e,t){e.prenume=t.payload},telefon(e,t){e.telefon=t.payload},email(e,t){e.email=t.payload},numarInmatriculare(e,t){e.numarInmatriculare=t.payload},serieSasiu(e,t){e.serieSasiu=t.payload},marca(e,t){e.marca=t.payload},model(e,t){e.model=t.payload},anulFabricatiei(e,t){e.anulFabricatiei=t.payload},tipMotorizare(e,t){e.tipMotorizare=t.payload},capacitateMotor(e,t){e.capacitateMotor=t.payload},caiPutere(e,t){e.caiPutere=t.payload},kWPutere(e,t){e.kWPutere=t.payload},istoricService(e,t){e.istoricService=t.payload},addClient(e,t){e.addClient=t.payload},editClient(e,t){e.editClient=t.payload},addCar(e,t){e.addCar=t.payload},editCar(e,t){e.editCar=t.payload},errorMessage(e,t){e.errorMessage=t.payload},clientsData(e,t){console.log(t.payload),e.clientsData=t.payload},clientCars(e,t){e.clientCars=t.payload},carsData(e,t){e.carsData=t.payload},searchedClient(e,t){e.searchedClient=t.payload},idCarForEdit(e,t){e.idCarForEdit=t.payload},updateClientCars(e,t){console.log(t.payload);const a=e.clientCars.findIndex((e=>e.carId===t.payload.carId));-1===a?e.clientCars.unshift(t.payload):e.clientCars[0!==e.clientCars.length?a:0]=t.payload},searchInput(e,t){e.searchInput=t.payload},deleteClientCar(e,t){e.clientCars=e.clientCars.filter((e=>e.carId!==t.payload))},edit(e,t){e.edit=t.payload}}}),s=o.actions;var d=o.reducer;const p=Object(l.b)({name:"client",initialState:{contact:"",timpProgramare:"",masina:"",actiuni:"",primire:"",procesare:"",durata:"",appointmentsData:[],idAppointmentForEdit:"",editAppointmentData:[]},reducers:{contact(e,t){e.contact=t.payload},timpProgramare(e,t){e.timpProgramare=t.payload},masina(e,t){e.masina=t.payload},actiuni(e,t){e.actiuni=t.payload},primire(e,t){e.primire=t.payload},procesare(e,t){e.procesare=t.payload},durata(e,t){e.durata=t.payload},appointmentsData(e,t){e.appointmentsData=t.payload},appointmentsUpdate(e,t){0===e.appointmentsData.length?e.appointmentsData[0]=t.payload:e.appointmentsData.unshift(t.payload)},idAppointmentForEdit(e,t){e.idAppointmentForEdit=t.payload},editAppointmentData(e,t){e.editAppointmentData=t.payload},appointmentsEditUpdate(e,t){const a=e.appointmentsData.findIndex((e=>e.id===t.payload.id));e.appointmentsData[a]=t.payload},deleteAppointment(e,t){const a=e.appointmentsData.findIndex((e=>e.id===t.payload));e.appointmentsData.splice(a,1)}}}),u=p.actions;var m=p.reducer;var j=Object(l.a)({reducer:{client:d,appointments:m}}),h=(a(17),a(15)),b=a.n(h),O=a(7),C=a(3),x=a(1);var y=()=>Object(x.jsxs)(i.Fragment,{children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("div",{className:b.a.name,children:"Service"}),Object(x.jsx)("nav",{children:Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{className:b.a.links,children:[Object(x.jsx)(O.a,{to:"/clients",children:"Clients"}),Object(x.jsx)(O.a,{to:"/parts",children:"Parts"}),Object(x.jsx)(O.a,{to:"/appointments",children:"Appointments"})]})})})]}),Object(x.jsx)(C.a,{})]});var g=e=>{let{carData:t}=e;const a=Object(c.b)(),i=Object(c.c)((e=>e.client.idCarForEdit)),r=Object(c.c)((e=>e.client.searchedClient)),n=Object(c.c)((e=>e.client.numarInmatriculare)),l=Object(c.c)((e=>e.client.serieSasiu)),o=Object(c.c)((e=>e.client.marca)),d=Object(c.c)((e=>e.client.model)),p=Object(c.c)((e=>e.client.anulFabricatiei)),u=Object(c.c)((e=>e.client.tipMotorizare)),m=Object(c.c)((e=>e.client.capacitateMotor)),j=Object(c.c)((e=>e.client.caiPutere)),h=Object(c.c)((e=>e.client.kWPutere));return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:i?e=>{e.preventDefault(),fetch("http://localhost:8000/editCar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,numarInmatriculare:n||t.numarInmatriculare,serieSasiu:l||t.serieSasiu,marca:o||t.marca,model:d||t.model,anulFabricatiei:p||t.anulFabricatiei,tipMotorizare:u||t.tipMotorizare,capacitateMotor:m||t.capacitateMotor,caiPutere:j||0,kWPutere:h||0})}).then((e=>e.json())).then((e=>{e.message?(a(s.updateClientCars(e.carEditedInfo)),a(s.edit(!1)),a(s.errorMessage(!1)),a(s.numarInmatriculare("")),a(s.serieSasiu("")),a(s.marca("")),a(s.model("")),a(s.anulFabricatiei("")),a(s.tipMotorizare("")),a(s.capacitateMotor("")),a(s.caiPutere("")),a(s.kWPutere("")),a(s.istoricService("")),a(s.idCarForEdit(""))):a(s.errorMessage(e.errorMessage))}))}:e=>{e.preventDefault(),fetch("http://localhost:8000/addCar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({numarInmatriculare:n,serieSasiu:l,marca:o,model:d,anulFabricatiei:p,tipMotorizare:u,capacitateMotor:m,caiPutere:j,kWPutere:h,clientId:r[0].clientId,istoricService:[]})}).then((e=>e.json())).then((e=>{e.message?(a(s.updateClientCars(e.carAddedInfo)),a(s.numarInmatriculare("")),a(s.serieSasiu("")),a(s.marca("")),a(s.model("")),a(s.anulFabricatiei("")),a(s.tipMotorizare("")),a(s.capacitateMotor("")),a(s.caiPutere("")),a(s.kWPutere("")),a(s.istoricService("")),a(s.addCar(!1)),a(s.editCar(!1))):a(s.errorMessage(e.errorMessage))}))},children:[Object(x.jsx)("input",{onChange:e=>a(s.numarInmatriculare(e.target.value)),type:"text",placeholder:"Numar inmatriculare",defaultValue:i?t.numarInmatriculare:""}),Object(x.jsx)("input",{onChange:e=>a(s.serieSasiu(e.target.value)),type:"text",placeholder:"Serie sasiu",defaultValue:i?t.serieSasiu:""}),Object(x.jsx)("input",{onChange:e=>a(s.marca(e.target.value)),type:"text",placeholder:"Marca",defaultValue:i?t.marca:""}),Object(x.jsx)("input",{onChange:e=>a(s.model(e.target.value)),type:"text",placeholder:"Model",defaultValue:i?t.model:""}),Object(x.jsx)("input",{onChange:e=>a(s.anulFabricatiei(e.target.value)),type:"number",placeholder:"Anul fabricatiei",defaultValue:i?t.anulFabricatiei:""}),Object(x.jsx)("input",{onChange:e=>a(s.tipMotorizare(e.target.value)),type:"text",placeholder:"Tip motorizare",defaultValue:i?t.tipMotorizare:""}),Object(x.jsx)("input",{onChange:e=>a(s.capacitateMotor(e.target.value)),type:"number",placeholder:"Capacitate motor",defaultValue:i?t.capacitateMotor:""}),Object(x.jsx)("input",{onChange:e=>a(s.caiPutere(e.target.value)),type:"number",placeholder:"Cai putere",defaultValue:i?t.caiPutere:""}),Object(x.jsx)("input",{onChange:e=>a(s.kWPutere(e.target.value)),type:"number",placeholder:"kW putere",defaultValue:i?t.kWPutere:""}),Object(x.jsx)("button",{type:"submit",children:i?"Save":"Add car"}),Object(x.jsx)("button",{onClick:()=>{a(s.idCarForEdit(!1)),a(s.edit(!1))},children:"Cancel"})]})})};var v=()=>{const e=Object(c.b)(),t=Object(c.c)((e=>e.client.editClient)),a=Object(c.c)((e=>e.client.searchedClient)),i=Object(c.c)((e=>e.client.nume)),r=Object(c.c)((e=>e.client.prenume)),n=Object(c.c)((e=>e.client.telefon)),l=Object(c.c)((e=>e.client.email));return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:t?t=>{t.preventDefault(),fetch("http://localhost:8000/editClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nume:i||a[0].nume,prenume:r||a[0].prenume,telefon:n||a[0].telefon,email:l||a[0].email,id:a[0].clientId})}).then((e=>e.json())).then((t=>{t.message?(e(s.searchedClient([{nume:t.editedClientInfo.nume,prenume:t.editedClientInfo.prenume,telefon:t.editedClientInfo.telefon,email:t.editedClientInfo.email,clientId:t.editedClientInfo.id}])),e(s.edit(!1)),e(s.errorMessage(!1)),e(s.addClient(!1)),e(s.editClient(!1)),e(s.nume("")),e(s.prenume("")),e(s.telefon("")),e(s.email(""))):e(s.errorMessage(t.errorMessage))}))}:t=>{t.preventDefault(),fetch("http://localhost:8000/addClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nume:i,prenume:r,telefon:n,email:l})}).then((e=>e.json())).then((t=>{t.message?(e(s.searchedClient([{nume:i,prenume:r,telefon:n,email:l,clientId:t.clientId}])),e(s.errorMessage(!1)),e(s.addClient(!1)),e(s.editClient(!1)),e(s.nume("")),e(s.prenume("")),e(s.telefon("")),e(s.email(""))):e(s.errorMessage(t.errorMessage))}))},children:[Object(x.jsx)("input",{onChange:t=>e(s.nume(t.target.value)),type:"text",placeholder:"Nume",defaultValue:t?a[0].nume:""}),Object(x.jsx)("input",{onChange:t=>e(s.prenume(t.target.value)),type:"text",placeholder:"Prenume",defaultValue:t?a[0].prenume:""}),Object(x.jsx)("input",{onChange:t=>e(s.telefon(t.target.value)),type:"text",placeholder:"Telefon",defaultValue:t?a[0].telefon:""}),Object(x.jsx)("input",{onChange:t=>e(s.email(t.target.value)),type:"text",placeholder:"Email",defaultValue:t?a[0].email:""}),Object(x.jsx)("button",{type:"submit",children:t?"Save":"Add client"}),Object(x.jsx)("button",{onClick:()=>{e(s.editClient(!1)),e(s.addClient(!1)),e(s.edit(!1))},children:"Cancel"})]})})};var f=e=>{let{clientCars:t}=e;const a=Object(c.c)((e=>e.client.idCarForEdit)),i=Object(c.b)();return Object(x.jsx)("div",{children:t.map((e=>Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{type:"text",children:["Numar inmatriculare: ",e.numarInmatriculare," "]}),Object(x.jsxs)("div",{type:"text",children:["Serie sasiu: ",e.serieSasiu," "]}),Object(x.jsxs)("div",{type:"text",children:["Marca: ",e.marca]}),Object(x.jsxs)("div",{type:"text",children:["Model: ",e.model]}),Object(x.jsxs)("div",{type:"text",children:["Anul fabricatie: ",e.anulFabricarie]}),Object(x.jsxs)("div",{type:"text",children:["Tip motorizare: ",e.tipMotorizare]}),Object(x.jsxs)("div",{type:"text",children:["Capacitate motor: ",e.capacitateMotor]}),Object(x.jsxs)("div",{type:"text",children:["Cai putere: ",e.caiPutere]}),Object(x.jsxs)("div",{type:"text",children:["kW putere: ",e.kWPutere]}),Object(x.jsxs)("div",{type:"text",children:["Istoric service: ",e.istoricService?e.istoricService.map((t=>Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:t.actiuni}),Object(x.jsx)("div",{children:t.primire}),Object(x.jsx)("div",{children:t.procesare}),Object(x.jsx)("div",{children:t.durata})]},e.carId))):""]}),a===e.carId&&Object(x.jsx)(g,{carData:e}),a!==e.carId&&Object(x.jsx)("button",{onClick:()=>{i(s.idCarForEdit(e.carId)),i(s.edit(!0))},children:"Edit car"}),a!==e.carId&&Object(x.jsx)("button",{onClick:()=>{fetch("http://localhost:8000/deleteCar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.carId})}).then((e=>e.json())).then((t=>{t.message?i(s.deleteClientCar(e.carId)):i(s.errorMessage(t.errorMessage))}))},children:"Delete"})]},e.carId)))})};var M=e=>{let{nume:t,prenume:a,telefon:i,email:r,clientId:n}=e;const l=Object(c.b)(),o=Object(c.c)((e=>e.client.editClient));return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{type:"text",children:["Nume: ",t||""," "]}),Object(x.jsxs)("div",{type:"text",children:["Prenume: ",a||""]}),Object(x.jsxs)("div",{type:"number",children:["Telefon: ",i||""]}),Object(x.jsxs)("div",{type:"text",children:["Email: ",r||""]}),o&&Object(x.jsx)(v,{}),!o&&Object(x.jsx)("button",{onClick:e=>{l(s.editClient(!0)),l(s.edit(!0))},children:"Edit client"}),!o&&Object(x.jsx)("button",{onClick:()=>{fetch("http://localhost:8000/deleteClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:n})}).then((e=>e.json())).then((e=>{e.message?(l(s.searchedClient(!1)),l(s.errorMessage(!1)),l(s.addClient(!1)),l(s.editClient(!1)),l(s.searchInput("")),l(s.nume("")),l(s.prenume("")),l(s.telefon("")),l(s.email(""))):l(s.errorMessage(e.errorMessage))}))},children:"Delete"})]})};var I=()=>{const e=Object(c.c)((e=>e.client.addClient)),t=Object(c.c)((e=>e.client.addCar)),a=Object(c.c)((e=>e.client.clientsData)),i=Object(c.c)((e=>e.client.clientCars)),r=Object(c.c)((e=>e.client.carsData)),n=Object(c.c)((e=>e.client.searchedClient)),l=Object(c.c)((e=>e.client.errorMessage)),o=Object(c.c)((e=>e.client.searchInput)),d=Object(c.c)((e=>e.client.edit)),p=Object(c.b)();return console.log(n),Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=[],i=[];a.forEach((e=>{e.telefon.includes(o)&&o.length>=10?(i.push(e),r.forEach((a=>{a.clientId===e.clientId&&t.push(a)}))):""===o&&(p(s.searchedClient(!1)),p(s.clientCars([])))})),p(s.searchedClient(i)),p(s.clientCars(t))},children:[Object(x.jsx)("input",{onChange:e=>{p(s.addClient(!1)),p(s.addCar(!1)),p(s.searchInput(e.target.value)),""===e.target.value&&(p(s.searchedClient(!1)),p(s.clientCars([])))},type:"text",placeholder:"Search client",value:o}),Object(x.jsx)("button",{type:"submit",children:"Search"})]}),!d&&Object(x.jsx)("button",{onClick:()=>{p(s.addClient(!0)),p(s.searchedClient(!1)),p(s.searchInput("")),p(s.clientCars([]))},children:"New Client"}),n&&!d&&Object(x.jsx)("button",{onClick:()=>{p(s.addCar(!0))},children:"New Car"}),e&&Object(x.jsx)(v,{}),l&&Object(x.jsx)("div",{children:l}),1===n.length&&Object(x.jsx)(M,{nume:n[0].nume,prenume:n[0].prenume,telefon:n[0].telefon,email:n[0].email,clientId:n[0].clientId}),t&&Object(x.jsx)(g,{}),n&&Object(x.jsx)(f,{clientCars:i})]})};var P=()=>{const e=Object(c.b)();return e(s.searchedClient(!1)),e(s.clientCars([])),e(s.searchInput("")),Object(i.useEffect)((()=>{fetch("http://localhost:8000/clients",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{e(s.clientsData(t.clients)),e(s.carsData(t.cars)),e(s.errorMessage(!1))}))})),Object(x.jsx)("div",{children:Object(x.jsx)(I,{})})};var S=()=>Object(x.jsx)("div",{children:"Parts"});var D=()=>Object(x.jsx)("div",{children:Object(x.jsx)(S,{})});var T=()=>{const e=Object(c.c)((e=>e.appointments.appointmentsData)),t=Object(c.b)();return Object(x.jsx)("div",{children:e.map((e=>Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["Contact: ",e.contact]}),Object(x.jsxs)("div",{children:["Masina: ",e.masina]}),Object(x.jsxs)("div",{children:["Actiuni asupra masinii: ",e.actiuni]}),Object(x.jsxs)("div",{children:["Timp programare: ",e.timpProgramare]}),Object(x.jsxs)("div",{children:["Primire masina: ",e.primire]}),Object(x.jsxs)("div",{children:["Procesare masina: ",e.procesare]}),Object(x.jsxs)("div",{children:["Durata procesului: ",e.durata]}),Object(x.jsx)("button",{onClick:()=>{t(u.idAppointmentForEdit(e.id)),t(u.contact(e.contact)),t(u.masina(e.masina)),t(u.actiuni(e.actiuni)),t(u.timpProgramare(e.timpProgramare)),t(u.primire(e.primire)),t(u.procesare(e.procesare)),t(u.durata(e.durata)),t(u.editAppointmentData({contact:e.contact,masina:e.masina,actiuni:e.actiuni,timpProgramare:e.timpProgramare,primire:e.primire,procesare:e.procesare,durata:e.durata}))},children:"Edit"}),Object(x.jsx)("button",{onClick:()=>{fetch("http://localhost:8000/deleteAppointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then((e=>e.json())).then((a=>{a.message?t(u.deleteAppointment(e.id)):t(s.errorMessage(a.errorMessage))}))},children:"Delete"}),Object(x.jsx)("button",{onClick:()=>{fetch("http://localhost:8000/addToCarHistory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,masina:e.masina,actiuni:e.actiuni,primire:e.primire,procesare:e.procesare,durate:e.durata})}).then((e=>e.json())).then((a=>{a.message?t(u.deleteAppointment(e.id)):t(s.errorMessage(a.errorMessage))}))},children:"Complete"})]},e.id)))})};var k=()=>{const e=Object(c.b)(),t=Object(c.c)((e=>e.appointments.contact)),a=Object(c.c)((e=>e.appointments.masina)),i=Object(c.c)((e=>e.appointments.actiuni)),r=Object(c.c)((e=>e.appointments.timpProgramare)),n=Object(c.c)((e=>e.appointments.primire)),l=Object(c.c)((e=>e.appointments.procesare)),o=Object(c.c)((e=>e.appointments.durata)),d=Object(c.c)((e=>e.appointments.idAppointmentForEdit)),p=Object(c.c)((e=>e.client.errorMessage));return Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{onSubmit:d?c=>{c.preventDefault(),fetch("http://localhost:8000/editAppointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contact:t,masina:a,actiuni:i,timpProgramare:r,primire:n,procesare:l,durata:o,id:d})}).then((e=>e.json())).then((t=>{t.message?(console.log("he"),e(u.appointmentsEditUpdate(t.editedAppointmentInfo)),e(u.idAppointmentForEdit(!1)),e(u.contact("")),e(u.masina("")),e(u.actiuni("")),e(u.timpProgramare("")),e(u.primire("")),e(u.procesare("")),e(u.durata(""))):e(s.errorMessage(t.errorMessage))}))}:c=>{c.preventDefault(),fetch("http://localhost:8000/addAppointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contact:t,masina:a,actiuni:i,timpProgramare:r,primire:n,procesare:l,durata:o})}).then((e=>e.json())).then((t=>{t.message?(e(u.appointmentsUpdate(t.appointment)),e(u.contact("")),e(u.masina("")),e(u.actiuni("")),e(u.timpProgramare("")),e(u.primire("")),e(u.procesare("")),e(u.durata(""))):e(s.errorMessage(t.errorMessage))}))},children:[Object(x.jsx)("div",{children:p}),Object(x.jsx)("input",{type:"text",onChange:t=>e(u.contact(t.target.value)),placeholder:"Contact",value:t}),Object(x.jsx)("input",{type:"text",onChange:t=>e(u.masina(t.target.value)),placeholder:"Masina",value:a}),Object(x.jsx)("input",{type:"text",onChange:t=>e(u.actiuni(t.target.value)),placeholder:"Actiune asupra masinii",value:i}),Object(x.jsx)("input",{type:"text",onChange:t=>e(u.primire(t.target.value)),placeholder:"Primire masina",value:n}),Object(x.jsx)("input",{type:"text",onChange:t=>e(u.procesare(t.target.value)),placeholder:"Procesare masina",value:l}),Object(x.jsx)("input",{type:"number",step:10,onChange:t=>e(u.durata(t.target.value)),placeholder:"Durata procesului",value:o}),Object(x.jsx)("input",{type:"time",min:"08:00",max:"17:00",step:"1800",onChange:t=>e(u.timpProgramare(t.target.value)),placeholder:"Interval de timp",value:r}),Object(x.jsx)("button",{type:"submit",children:"Save"})]}),Object(x.jsx)(T,{})]})};var E=()=>{const e=Object(c.b)();return Object(i.useEffect)((()=>{fetch("http://localhost:8000/appointments",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{e(u.appointmentsData(t.appointments))}))})),Object(x.jsx)("div",{children:Object(x.jsx)(k,{})})};const F=Object(O.c)([{path:"/",element:Object(x.jsx)(y,{}),children:[{path:"/clients",element:Object(x.jsx)(P,{})},{path:"/parts",element:Object(x.jsx)(D,{})},{path:"/appointments",element:Object(x.jsx)(E,{})}]}]);var A=()=>Object(x.jsx)("div",{children:Object(x.jsx)(O.b,{router:F})});n.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(c.a,{store:j,children:Object(x.jsx)(A,{})}))}},[[33,1,2]]]);
//# sourceMappingURL=main.f98bc07e.chunk.js.map